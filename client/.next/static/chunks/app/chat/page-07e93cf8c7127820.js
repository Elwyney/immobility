(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{3741:(e,s,a)=>{Promise.resolve().then(a.bind(a,2727))},2727:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var c=a(5155),t=a(5906),l=a(6046),n=a(2115),r=a(3391);a(2264);let i=()=>{let e=(0,n.useRef)(null),s=(0,l.useRouter)(),{localName:a}=(0,r.d4)(e=>e.data),[i,d]=(0,n.useState)(""),[h,m]=(0,n.useState)([]),[o,u]=(0,n.useState)(!1),x=()=>{t.A.emit("sendMessae",i)},f=e=>{t.A.emit("sendMessae",e)},p=()=>{t.A.on("liveMsg",e=>{m(s=>[...s,e])})},j=h.some(e=>"Хочу Музыку"===e.msg);return(0,n.useEffect)(()=>{e.current&&j&&e.current.play()},[h,j]),(0,n.useEffect)(()=>(p(),t.A.on("currentUser",e=>{console.log(e),e<=1&&s.push("/loader")}),()=>{t.A.off("currentUser"),t.A.off("liveMsg"),t.A.emit("chat_leave",a)}),[s,a]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"chat-container",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"chat",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{href:"",children:"Завершить чат"}),(0,c.jsx)("a",{href:"",children:"Пожаловаться"})]}),(0,c.jsxs)("div",{className:"set-message",children:[(0,c.jsxs)("audio",{ref:e,loop:!0,children:[(0,c.jsx)("source",{src:"https://s456vlx.storage.yandex.net/get-mp3/7bf20a527aee419f3c3e734712909c0d/00062c390ae91243/rmusic/U2FsdGVkX185q5UmRpAlOsNJ6JifyAePDubjNsd-HL0Bn-e_Syp96X7czhxjw-GhBRtEUXbxIBbRrgzosAN8FRtfoaxjgDN_bvr51h__rrY/500ae3ac6fe7c1051fc91257fab109ae06dc25cdc7c4279d05b96ffbca43451e/29331?track-id=111440168&play=false",type:"audio/mp3"}),"Ваш браузер не поддерживает элемент audio."]}),(0,c.jsxs)("div",{className:"message",children:[(0,c.jsx)("span",{className:"",children:"Администратор"}),(0,c.jsx)("span",{className:"",children:"Моменты первого контакта могут изменить вашу жизнь. Сделайте этот первый шаг и отправьте сообщение."}),(0,c.jsx)("div",{children:["Хочу Музыку","Как дела?"].map((e,s)=>(0,c.jsx)("span",{onClick:()=>f(e),className:"music",children:e},s))})]}),h.map((e,s)=>(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"message",children:[(0,c.jsx)("span",{className:"textUser",children:e.name}),(0,c.jsx)("span",{className:"",children:e.msg})]},s)}))]}),(0,c.jsxs)("form",{className:"chat-form",action:"",children:[(0,c.jsx)("input",{onChange:e=>d(e.target.value),onClick:()=>u(!0),className:"text-input ".concat(o?"sizeText":""),type:"text",placeholder:"Введите ваше сообшение"}),(0,c.jsx)("input",{onClick:()=>x(),className:"submit-button",type:"button",value:"Отправить"})]})]})})})})}},5906:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});let c=(0,a(1319).io)("http://localhost:4000")},2264:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[855,264,319,441,517,358],()=>s(3741)),_N_E=e.O()}]);